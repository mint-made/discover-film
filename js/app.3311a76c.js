(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&l.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function c(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"be40db4f"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"16f5a17c"}[e]+".css",i=s.p+r,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===i))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===r||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],f.parentNode.removeChild(f),n(o)},f.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(f)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}i[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/discover-film/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3de7":function(e,t,n){"use strict";var r=n("c371"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Search")]),n("router-link",{attrs:{to:"/Discover"}},[e._v("Discover")]),n("router-link",{attrs:{to:"/Watch"}},[e._v("Watch")])],1),n("div",{staticClass:"router-container"},[n("router-view")],1)])},i=[],o=(n("5c0b"),n("2877")),c={},s=Object(o["a"])(c,a,i,!1,null,null,null),u=s.exports,d=(n("d3b7"),n("8c4f")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-width-1000 container bg-dark text-steel shadow"},[e._m(0),n("div",{staticClass:"container bg-darker mb-20"},[n("h3",[e._v("Start by selecting the genres of films you would like to watch.")]),e._l(e.API.genres,(function(t){return n("span",{key:t.id,staticClass:"pill toggle-pill",class:{active:t.isActive},on:{click:function(n){return e.toggleGenreSearch(t)}}},[e._v(e._s(t.name))])}))],2),n("div",{staticClass:"container bg-darker"},[n("h3",[e._v("Next select the year ranges")]),e._l(e.API.years,(function(t){return n("span",{key:t.id,staticClass:"pill toggle-pill",class:{active:t.isActive},on:{click:function(n){return e.toggleYearSearch(t)}}},[e._v(e._s(t.name))])})),n("div",[n("button",{staticClass:"btn btn-x btn-padding mt-20 mb-20",on:{click:e.initSearch}},[e._v(" Generate Suggestions ")])])],2)])},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container bg-darker mb-20"},[n("h2",[e._v("Welcome to Search Discover Watch!")]),n("h3",[e._v("We save you time, helping you find films to watch.")])])}],v=n("5530"),h=n("2f62"),m={name:"Search",computed:Object(v["a"])({},Object(h["d"])(["API"])),methods:Object(v["a"])({},Object(h["b"])({toggleGenreSearch:"toggleGenreSearch",toggleYearSearch:"toggleYearSearch",discoverGet:"discoverGet"}),{initSearch:function(){this.$router.push({name:"Discover"}),this.discoverGet()}})},p=m,g=(n("3de7"),Object(o["a"])(p,l,f,!1,null,null,null)),A=g.exports;r["a"].use(d["a"]);var b=[{path:"/",name:"Search",component:A},{path:"/discover",name:"Discover",component:function(){return n.e("about").then(n.bind(null,"6723"))}},{path:"/collection",name:"Collection",component:function(){return n.e("about").then(n.bind(null,"13a0"))}},{path:"/watch",name:"Watch",component:function(){return n.e("about").then(n.bind(null,"4eb8"))}},{path:"/info/:id",name:"Info",props:!0,component:function(){return n.e("about").then(n.bind(null,"2469"))}}],y=new d["a"]({routes:b,mode:"history",base:"/discover-film/"}),_=y;n("99af"),n("4de4"),n("7db0"),n("4160"),n("caad"),n("a15b"),n("a9e3"),n("2532"),n("159b");r["a"].use(h["a"]);var w=new h["a"].Store({state:{API:{key:"api_key=b956dbbe760427382db31b3c104dff50",baseURL:"https://api.themoviedb.org/3/",genres:[{id:12,name:"Adventure",isActive:!1},{id:14,name:"Fantasy",isActive:!1},{id:16,name:"Animation",isActive:!1},{id:18,name:"Drama",isActive:!1},{id:27,name:"Horror",isActive:!1},{id:28,name:"Action",isActive:!1},{id:35,name:"Comedy",isActive:!1},{id:36,name:"History",isActive:!1},{id:37,name:"Western",isActive:!1},{id:53,name:"Thriller",isActive:!1},{id:80,name:"Crime",isActive:!1},{id:99,name:"Documentary",isActive:!1},{id:878,name:"Science Fiction",isActive:!1},{id:9648,name:"Mystery",isActive:!1},{id:10402,name:"Music",isActive:!1},{id:10749,name:"Romance",isActive:!1},{id:10751,name:"Family",isActive:!1},{id:10752,name:"War",isActive:!1},{id:10770,name:"TV Movie",isActive:!1}],years:[{name:"1950s",id:1,isActive:!1,startYear:"1950-01-01",endYear:"1959-01-01"},{name:"1960s",id:2,isActive:!1,startYear:"1960-01-01",endYear:"1969-01-01"},{name:"1970s",id:3,isActive:!1,startYear:"1970-01-01",endYear:"1979-01-01"},{name:"1980s",id:4,isActive:!1,startYear:"1980-01-01",endYear:"1989-01-01"},{name:"1990s",id:5,isActive:!1,startYear:"1990-01-01",endYear:"1999-01-01"},{name:"2000s",id:6,isActive:!1,startYear:"2000-01-01",endYear:"2009-01-01"},{name:"2010s",id:7,isActive:!1,startYear:"2010-01-01",endYear:"2019-01-01"},{name:"2020",id:10,isActive:!1,startYear:"2020-01-01",endYear:"2020-01-01"}],base:{img:{w154:"https://image.tmdb.org/t/p/w154",w185:"https://image.tmdb.org/t/p/w185",w342:"https://image.tmdb.org/t/p/w342",w500:"https://image.tmdb.org/t/p/w500"},yt:"https://www.youtube.com/embed/"}},discover:[],dataFromAPI:"",data:{searchResults:[],detailsResults:[],watchList:[]}},mutations:{SAVE_DATA:function(e,t){t.data.length>1?t.data.forEach((function(n){return e.data[t.key].push(n)})):1===t.data.length&&e.data[t.key].push(t.data)},CLEAR_DATA:function(e,t){e.data[t].length=0},ADD_DATA:function(e,t){var n=e.movies.find((function(e){return e.id==t.id}));n[t.type]=t.results},MODIFY_PICK_DATA:function(e,t){var n=e.API[t.type].find((function(e){return e.id===t.id}));n[t.property]=t.value},ADD_WATCHLIST:function(e,t){console.log("added to watchlist");var n=e.data.searchResults.find((function(e){return e.id===t}));e.data.watchList.push(n)},REMOVE_WATCHLIST:function(e,t){console.log("remove from watchlist"),e.data.watchList=e.data.watchList.filter((function(e){return e.id!==t}))}},getters:{getGenres:function(e){return function(t){var n=e.data.searchResults.find((function(e){return e.id===Number(t)}));n||(n=e.data.watchList.find((function(e){return e.id===Number(t)})));var r=[];return n.genre_ids.forEach((function(t){r.push(e.API.genres.find((function(e){return e.id===t})))})),r}},filterGenres:function(e){return function(t){return e.movies.filter((function(e){return e.genre_ids.includes(t)}))}},watchListIds:function(e){var t=[];return e.data.watchList.forEach((function(e){return t.push(e.id)})),t}},actions:{discoverGet:function(e){var t=e.commit,n=e.state,r=n.API.genres.filter((function(e){return!0===e.isActive})),a=n.API.years.filter((function(e){return!0===e.isActive}));if(a.length>0&&r.length>0){t("CLEAR_DATA","searchResults");var i=[];r.forEach((function(e){i.push(e.id)})),i=i.join("%2C%20"),a.forEach((function(e){var r="".concat(n.API.baseURL,"discover/movie?").concat(n.API.key,"&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&primary_release_date.gte=").concat(e.startYear,"&primary_release_date.lte=").concat(e.endYear,"&with_genres=").concat(i);fetch(r).then((function(e){return e.json()})).then((function(e){t("SAVE_DATA",{data:e.results,key:"searchResults"})}))}))}else alert("Select at least one genre and one year range")},searchMovies:function(e,t){var n=e.commit,r=e.state;console.log(t.query);var a="".concat(r.API.baseURL,"search/movie?").concat(r.API.key,"&query=").concat(t.query,"&page=1");console.log(a),fetch(a).then((function(e){return e.json()})).then((function(e){console.log(e),n("SAVE_REQUEST",e.results)}))},movieDetailsGet:function(e,t){var n=e.commit,r=e.state;console.log(t);var a="".concat(r.API.baseURL,"movie/").concat(t.id,"/").concat(t.type,"?").concat(r.API.key);fetch(a).then((function(e){return e.json()})).then((function(e){console.log(2);var r={type:t.type,id:t.id,results:e.results};n("ADD_DATA",r)}))},toggleGenreSearch:function(e,t){var n=e.commit,r={type:"genres",id:t.id,property:"isActive",value:!t.isActive};n("MODIFY_PICK_DATA",r)},toggleYearSearch:function(e,t){var n=e.commit,r={type:"years",id:t.id,property:"isActive",value:!t.isActive};n("MODIFY_PICK_DATA",r)},toggleWatchList:function(e,t){var n=e.commit,r=e.state,a=[];r.data.watchList.forEach((function(e){return a.push(e.id)})),a.includes(t)?n("REMOVE_WATCHLIST",t):n("ADD_WATCHLIST",t)}},modules:{}});r["a"].config.productionTip=!1,new r["a"]({router:_,store:w,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"9c0c":function(e,t,n){},c371:function(e,t,n){}});
//# sourceMappingURL=app.3311a76c.js.map